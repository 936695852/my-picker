{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ed141d48e6cc2b655d29","webpack:///./src/util/domUtil.ts","webpack:///./src/constant.ts","webpack:///./src/util/browserUtil.ts","webpack:///./src/util/animationUtil.ts","webpack:///./src/wheel/perspectiveConversionCache.js","webpack:///./src/tick/tick.js","webpack:///./src/index.ts","webpack:///./src/Picker.ts","webpack:///./src/Col.ts","webpack:///./src/defaultOption.ts","webpack:///./src/wheel/wheel3D.ts","webpack:///./node_modules/my-jquery/src/my-jquery.js","webpack:///./src/util/animationUtil.js","webpack:///./src/wheel/cacheData.js","webpack:///./src/tick/tick.wav","webpack:///./src/wheel/wheel.ts","webpack:///./src/frame.js","webpack:///./src/style/style.scss"],"names":["Object","defineProperty","exports","value","myJquery","require","default","document","WHEEL_HEIGHT","WHEEL_ITEM_ANGLE","WHEEL_ITEM_HIGHT","WHEEL_TRANSITION_TIME","isIE","userAgent","navigator","matches","tridentMap","match","isWebKit","indexOf","isFirefox","animationUtil","startAnimation","fn","stopAnimation","animationId","easeIn","t","b","c","d","easeOut","easeInOut","cacheData","module","y","radius","wheelHeight","ratio","Math","round","max","min","abs","tick","AudioImpl","Audio","audio","volume","prototype","play","currentTime","e","console","error","audioImpl","Picker_1","option","Picker","Col_1","defaultOption_1","wheel3D_1","wheel_1","browserUtil_1","Frame","options","_wheels","_cols","_option","assign","_frame","cols","i","Array","isArray","length","push","Col","wheel","col","isPerspective","Wheel3D","Wheel","body","append","getDOM","that","addSelectItemListener","index","onSelectItem","call","setValue","setValues","_visible","showCover","showFrame","hideCover","hideFrame","close","forEach","destroy","list","defaultValue","setOptions","getOptions","selectOption","getValue","values","colOption","prefix","suffix","labelKey","valueKey","type","item","defaultOptions","onOkClick","onCancelClick","fontSize","hasVoice","title","buttons","zIndex","domUtil_1","animationUtil_1","constant_1","perspectiveConversion","picker","maxAngle","minAngle","sqrt","visibleAngle","em","window","innerWidth","innerHeight","offsetTop","originalAngle","lastIndexAngle","changeMaxAngle","angle","selectedIndex","speed","timeStamp","lastY","isDraging","valueHashMap","onSelectItemCallbackList","dom","css","contains","find","acos","PI","itemValueKey","startDrag","event","target","currentTarget","parentElement","offsetY","touches","clientY","addEventListener","drag","endDrag","setSuffix","setPrefix","Date","now","parent","changeAngle","setAngle","calcSelectedIndexByAngle","selectIndex","selectedValue","isInti","html","TypeError","label","height","li","text","data","clickHandle","stopPropagation","preventDefault","flushLabel","undefined","showAnimation","calcAngleBySelectedIndex","start","during","_run","_angle","oldSelectedIndex","toggleSelected","rangeAngle","visible","each","eq","filter","_fn","requestAnimationFrame","cancelAnimationFrame","lastTime","vendors","x","callback","element","currTime","getTime","timeToCall","id","setTimeout","cancelRequestAnimationFrame","clearTimeout","maxDistance","minDistance","originalDistance","lastIndexDistance","changeMaxDistance","distance","changeDistance","setDistance","calcSelectedIndexByDistance","calcDistanceBySelectedIndex","_Distance","rangeDistance","cover","hide","frame","addClass","on","result","_resizeHandle","documentElement","clientWidth","clientHeight","bind","show","removeClass","remove","removeEventListener"],"mappings":"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,YAAY,gBAAgB;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA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","file":"my-picker.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"myPicker\"] = factory();\n\telse\n\t\troot[\"myPicker\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ed141d48e6cc2b655d29","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst myJquery = require(\"my-jquery\");\r\nexports.default = myJquery(document);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/domUtil.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = {\r\n    //滚轮的高度\r\n    WHEEL_HEIGHT: 85,\r\n    //在3D透视滚轮中，每个可选项在滚轮上的角度\r\n    WHEEL_ITEM_ANGLE: 15,\r\n    //在非3D透视滚轮中，一个滚轮的一个刻度的高度，单位是0.01em\r\n    // WHEEL_ITEM_HIGHT : 85 - (85 * 41.6 * 2 / 100) ,\r\n    WHEEL_ITEM_HIGHT: 85 - (85 * 41.6 * 2 / 100),\r\n    //滚轮因惯性而发生的减速滑动时间\r\n    WHEEL_TRANSITION_TIME: 400,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constant.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nlet isIE;\r\nconst userAgent = navigator.userAgent;\r\nexports.default = {\r\n    /**\r\n     * 是否是IE\r\n     * @returns\r\n     */\r\n    isIE() {\r\n        if (isIE == null) {\r\n            isIE = (function () {\r\n                let matches;\r\n                const tridentMap = {\r\n                    '4': 8,\r\n                    '5': 9,\r\n                    '6': 10,\r\n                    '7': 11\r\n                };\r\n                matches = userAgent.match(/MSIE (\\d+)/i);\r\n                if (matches && matches[1]) {\r\n                    return !!+matches[1];\r\n                }\r\n                matches = userAgent.match(/Trident\\/(\\d+)/i);\r\n                if (matches && matches[1]) {\r\n                    return !!tridentMap[matches[1]] || false;\r\n                }\r\n                //we did what we could\r\n                return false;\r\n            }());\r\n        }\r\n        return isIE;\r\n    },\r\n    /**\r\n     * 是否是webkit\r\n     * @returns\r\n     */\r\n    isWebKit() {\r\n        return userAgent.indexOf('AppleWebKit') > -1;\r\n    },\r\n    /**\r\n     * 是否是火狐\r\n     * @returns\r\n     */\r\n    isFirefox() {\r\n        return (userAgent.indexOf('Gecko') > -1 && userAgent.indexOf('KHTML') == -1);\r\n    },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/browserUtil.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst animationUtil = require(\"./animationUtil.js\");\r\nexports.default = {\r\n    /**\r\n     * 动画开始函数\r\n     * @param {()=>void} fn             东航的回调\r\n     * @returns {number}                动画id\r\n     */\r\n    startAnimation: function (fn) {\r\n        return animationUtil.startAnimation(fn);\r\n    },\r\n    /**\r\n     * 动画终止函数\r\n     * @param {number} animationId       动画id\r\n     */\r\n    stopAnimation: function (animationId) {\r\n        animationUtil.stopAnimation(animationId);\r\n    },\r\n    /**\r\n     * 渐入效果插值\r\n     * @param {number} t            current time（当前时间）\r\n     * @param {number} b            beginning value（初始值）\r\n     * @param {number} c            change in value（变化量）\r\n     * @param {number} d            duration（持续时间）\r\n     * @returns {number}            插值的结果\r\n     */\r\n    easeIn: function (t, b, c, d) {\r\n        return animationUtil.easeIn(t, b, c, d);\r\n    },\r\n    /**\r\n     * 淡出效果\r\n     * @param {number} t            current time（当前时间）\r\n     * @param {number} b            beginning value（初始值）\r\n     * @param {number} c            change in value（变化量）\r\n     * @param {number} d            duration（持续时间）\r\n     * @returns {number}            插值的结果\r\n     */\r\n    easeOut: function (t, b, c, d) {\r\n        return animationUtil.easeOut(t, b, c, d);\r\n    },\r\n    /**\r\n     * 淡入并淡出效果\r\n     * @param {number} t            current time（当前时间）\r\n     * @param {number} b            beginning value（初始值）\r\n     * @param {number} c            change in value（变化量）\r\n     * @param {number} d            duration（持续时间）\r\n     * @returns {number}            插值的结果\r\n     */\r\n    easeInOut: function (t, b, c, d) {\r\n        return animationUtil.easeInOut(t, b, c, d);\r\n    },\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/animationUtil.ts","var cacheData = require(\"./cacheData\");\r\n\r\n/**\r\n * 因为perspectiveConversion是个纯函数,因此可以缓存,这样有利于减少计算,增加动画流畅度。尤其在移动端效果十分明显。\r\n * 计算工作由test/calcIntersectionCache完成,这里只是将其计算结果封装为一个函数\r\n */\r\nmodule.exports = function (y, radius, wheelHeight) {\r\n\r\n    //计算比例\r\n    var ratio = Math.round(y * 200 / wheelHeight);\r\n    ratio = Math.max(-100,ratio);\r\n    ratio = Math.min(100,ratio)\r\n    return y < 0 ? -1 * cacheData[Math.abs(ratio)] : cacheData[Math.abs(ratio)];\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/wheel/perspectiveConversionCache.js","/**\r\n * 滚轮滚动时候发声的函数,是一个单例模式\r\n */\r\nvar tick = require('./tick.wav');\r\n\r\nfunction AudioImpl() {\r\n    if(Audio) {\r\n        this.audio = new Audio(tick);\r\n        this.audio.volume=0.2;\r\n    }\r\n}\r\n\r\nAudioImpl.prototype.play = function () {\r\n    try {\r\n        if(this.audio){\r\n            this.audio.currentTime = 0;\r\n            this.audio.play();\r\n        }\r\n    } catch (e){\r\n        console.error(e);\r\n    }\r\n}\r\n\r\nvar audioImpl;\r\n\r\nmodule.exports = function () {\r\n    if(audioImpl){\r\n        return audioImpl;\r\n    } else {\r\n        audioImpl = new AudioImpl();\r\n        return audioImpl;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/tick/tick.js","\"use strict\";\r\nconst Picker_1 = require(\"./Picker\");\r\nmodule.exports = function (option) {\r\n    return new Picker_1.Picker(option);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Col_1 = require(\"./Col\");\r\nconst defaultOption_1 = require(\"./defaultOption\");\r\nconst wheel3D_1 = require(\"./wheel/wheel3D\");\r\nconst wheel_1 = require(\"./wheel/wheel\");\r\nconst browserUtil_1 = require(\"./util/browserUtil\");\r\nvar Frame = require(\"./frame\");\r\nrequire(\"./style/style.scss\");\r\nclass Picker {\r\n    constructor(options) {\r\n        //滚轮列表\r\n        this._wheels = [];\r\n        //主框架\r\n        this._cols = [];\r\n        //用用户配置,覆盖默认配置,生成当前控件的实例的配置\r\n        this._option = Object.assign({}, defaultOption_1.default, options);\r\n        //主架\r\n        this._frame = new Frame(this, this._option);\r\n        //解析cols属性,将其转换为Cols的数组\r\n        var cols = [], i = 0;\r\n        if (Array.isArray(this._option.cols)) {\r\n            //如果cols为空数组,或者里面的元素是字符串,表示仅一个滚轮,就是cols本身\r\n            if (this._option.cols.length === 0 || typeof this._option.cols[0] === 'string') {\r\n                cols.push(new Col_1.Col(this._option.cols));\r\n            }\r\n            else {\r\n                //否则表示数组中的每个元素都是个滚轮\r\n                for (i = 0; i < this._option.cols.length; i++) {\r\n                    cols.push(new Col_1.Col(this._option.cols[i]));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            //如果不是数组,表示有cols是一个json形式配置的滚轮\r\n            cols.push(new Col_1.Col(this._option.cols));\r\n        }\r\n        this._cols = cols;\r\n        //构造滚轮\r\n        this._wheels = [];\r\n        var wheel, col;\r\n        for (let i = 0; i < cols.length; i++) {\r\n            let col = cols[i];\r\n            //设置滚轮\r\n            wheel = (!browserUtil_1.default.isIE && this._option.isPerspective) ? new wheel3D_1.Wheel3D(this, col, this._option, i) : new wheel_1.Wheel(this, col, this._option, i);\r\n            this._wheels.push(wheel);\r\n            this._frame.body().append(wheel.getDOM());\r\n            //重写wheel的onSelectItem事件\r\n            var that = this;\r\n            wheel.addSelectItemListener((function (i) {\r\n                return function (index, value) {\r\n                    //如果用户注册了onSelectItem\r\n                    if (typeof that._option.onSelectItem == 'function') {\r\n                        that._option.onSelectItem.call(that, i, index, value);\r\n                    }\r\n                };\r\n            })(i));\r\n        }\r\n        for (let i = 0; i < cols.length; i++) {\r\n            //设置滚轮的选项\r\n            that.setValue(i, that._option.setValues[i]);\r\n        }\r\n        //是否可见\r\n        this._visible = false;\r\n    }\r\n    //是否可见\r\n    get visible() {\r\n        return this._visible;\r\n    }\r\n    /**\r\n     * 显示\r\n     */\r\n    show() {\r\n        this._frame.showCover();\r\n        this._frame.showFrame();\r\n        this._visible = true;\r\n    }\r\n    /**\r\n     * 隐藏\r\n     */\r\n    hide() {\r\n        this._frame.hideCover();\r\n        this._frame.hideFrame();\r\n        this._visible = false;\r\n    }\r\n    /**\r\n     * 关闭\r\n     */\r\n    close() {\r\n        this._frame.close();\r\n        this._frame.hideCover();\r\n        this._option = null;\r\n        this._wheels.forEach(wheel => wheel.destroy());\r\n        this._wheels = null;\r\n        this._frame = null;\r\n        this._cols = null;\r\n    }\r\n    /**\r\n     * 设置滚轮的可选值列表\r\n     * @param {number} index    滚轮的index,从0开始记录\r\n     * @param {any[]} list      滚轮的可选值列表\r\n     * @param {*} defaultValue  默认值,如果为空会以当前值作为默认值。如果没有当前值会以第一个值作为默认值\r\n     */\r\n    setOptions(index, list, defaultValue) {\r\n        if (this._wheels[index])\r\n            this._wheels[index].setOptions(list, defaultValue);\r\n    }\r\n    /**\r\n     * 获取滚轮的可选值列表\r\n     * @param {number} index    滚轮的index,从0开始记录\r\n     */\r\n    getOptions(index) {\r\n        if (this._wheels[index]) {\r\n            return this._wheels[index].getOptions();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    /**\r\n     * 设置滚轮的可选值\r\n     * @param {number} index    滚轮的index,从0开始记录\r\n     * @param {*} value         设置的值\r\n     */\r\n    setValue(index, value) {\r\n        if (this._wheels[index])\r\n            this._wheels[index].selectOption(value);\r\n    }\r\n    /**\r\n     * 获取滚轮的值,如果index为空表示获取所有滚轮的值\r\n     * @param {number} index    滚轮的index,从0开始记录。如果为空表示获取所有滚轮的值\r\n     */\r\n    getValue(index) {\r\n        if (index != null) {\r\n            if (this._wheels[index])\r\n                return this._wheels[index].getValue();\r\n        }\r\n        else {\r\n            var values = [];\r\n            var i;\r\n            for (i = 0; i < this._cols.length; i++) {\r\n                values.push(this._wheels[i].getValue());\r\n            }\r\n            return values;\r\n        }\r\n    }\r\n}\r\nexports.Picker = Picker;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Picker.ts","\"use strict\";\r\n/**\r\n * @file 将用户数据封装为列对象\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Col {\r\n    constructor(colOption) {\r\n        this.prefix = \"\";\r\n        this.suffix = \"\";\r\n        this.labelKey = \"label\";\r\n        this.valueKey = \"value\";\r\n        //列的类型，0：未知 1：字符串数组 2：对象数组\r\n        this.type = 0;\r\n        //如果option是一个数组,视为仅存在options的情况\r\n        if (Array.isArray(colOption)) {\r\n            this.options = colOption;\r\n            this.type = 1;\r\n        }\r\n        else {\r\n            this.options = colOption.options || [];\r\n            if (this.options.length > 0) {\r\n                if (typeof this.options[0] === 'string') {\r\n                    this.type = 1;\r\n                }\r\n                else {\r\n                    this.type = 2;\r\n                }\r\n            }\r\n            else {\r\n                this.type = 0;\r\n            }\r\n            this.prefix = colOption.prefix || \"\";\r\n            this.suffix = colOption.suffix || \"\";\r\n            this.labelKey = colOption['labelKey'] || this.labelKey;\r\n            this.valueKey = colOption['valueKey'] || this.valueKey;\r\n        }\r\n    }\r\n    push(item) {\r\n        this.options.push(item);\r\n    }\r\n    set(index, item) {\r\n        if (this.type == 0) {\r\n            this.type = typeof item === 'string' ? 1 : 2;\r\n        }\r\n        this.options[index] = item;\r\n    }\r\n    setCol() {\r\n    }\r\n    getValue(index) {\r\n        if (this.type == 1) {\r\n            return this.options[index];\r\n        }\r\n        else {\r\n            return this.options[index][this.valueKey];\r\n        }\r\n    }\r\n    getLabel(index) {\r\n        if (this.type == 1) {\r\n            return this.options[index];\r\n        }\r\n        else {\r\n            return this.options[index][this.labelKey];\r\n        }\r\n    }\r\n}\r\nexports.Col = Col;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Col.ts","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * 用户默认配置\r\n */\r\nlet defaultOptions = {\r\n    cols: [\r\n        []\r\n    ],\r\n    setValues: [],\r\n    onSelectItem: null,\r\n    onOkClick: null,\r\n    onCancelClick: null,\r\n    fontSize: 15,\r\n    isPerspective: true,\r\n    hasVoice: true,\r\n    title: '',\r\n    buttons: [\"确定\", \"取消\"],\r\n    zIndex: 100,\r\n};\r\nexports.default = defaultOptions;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/defaultOption.ts","\"use strict\";\r\n/**\r\n * 滚轮类,是显示选择器可选项的滚轮体，3D模式型的，有透视效果\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst domUtil_1 = require(\"../util/domUtil\");\r\nconst animationUtil_1 = require(\"../util/animationUtil\");\r\nconst constant_1 = require(\"../constant\");\r\nconst perspectiveConversion = require(\"./perspectiveConversionCache\");\r\nconst tick = require(\"../tick/tick\")();\r\nclass Wheel3D {\r\n    constructor(picker, col, option, index) {\r\n        ///////////////////滚轮显示属性\r\n        //最大转角\r\n        this.maxAngle = 0;\r\n        //最小转角,设置可选项列表后需重新计算\r\n        this.minAngle = 0;\r\n        //滚轮的实际半径,因为有透视效果,所以滚轮实际半径比容器的高度的一半还小。根据勾股定理,计算得实际半径是容器高度的根号5分之1\r\n        this.radius = constant_1.default.WHEEL_HEIGHT / Math.sqrt(5);\r\n        //计算标签可显示的角度的绝对值。因为透视关系,所以可见的标签角度小于90度\r\n        this.visibleAngle = 0;\r\n        //获取0.01em的实际像素值\r\n        this.em = () => Math.min(window.innerWidth, window.innerHeight) / 100;\r\n        //获得控件到body最顶端的距离,计算触摸事件的offsetY时候使用\r\n        this.offsetTop = 0;\r\n        ////////////////////滚动属性\r\n        //滚轮转动前初始的转角,用于计算滚轮是否转动过\r\n        this.originalAngle = 0;\r\n        //一次拖动过程中滚轮被转动的最大角度\r\n        this.lastIndexAngle = 0;\r\n        //当前的刻度,计算发声时候会用到。发声要进过一个刻度线或者达到一个新刻度新才会发声。所以需要记录上一次的刻度线。\r\n        this.changeMaxAngle = 0;\r\n        //当前滚轮转角\r\n        this.angle = 0;\r\n        //当前被选值的index\r\n        this.selectedIndex = -1;\r\n        //记录惯性滑动动画的id\r\n        this.animationId = -1;\r\n        //速度，供触摸离开时候的惯性滑动动画使用\r\n        this.speed = 0;\r\n        //当前时间戳,主要是计算转动速度使用的\r\n        this.timeStamp = 0;\r\n        //记录上一次触摸节点的offsetY,主要是是计算转动速度使用的\r\n        this.lastY = 0;\r\n        //是否开始触摸,主要给鼠标事件使用\r\n        this.isDraging = false;\r\n        //正在播放的刻度音\r\n        this.audio = null;\r\n        ////////////////////可选项属性\r\n        //可选项列表\r\n        this.list = [];\r\n        //根据值生成的hashmap,主要是为了快速获得value对应可选项的index\r\n        this.valueHashMap = {};\r\n        ////////////////////事件\r\n        this.onSelectItemCallbackList = [];\r\n        ///////////////////主要属性\r\n        //picker对象\r\n        this.picker = picker;\r\n        //option对象\r\n        this.option = option;\r\n        //记录当前滚轮是容器中第几个滚轮\r\n        this.index = index;\r\n        //转轮主体\r\n        this.dom = domUtil_1.default('<div class=\"picker-wheel3d\">'\r\n            + '<div class=\"picker-label\"><span class=\"picker-text\"></span></div>'\r\n            + '<ul></ul>'\r\n            + '<div class=\"picker-label\"><span class=\"picker-text\"></span></div>'\r\n            + '</div>').css('height', constant_1.default.WHEEL_HEIGHT / 100 + 'em');\r\n        //转轮上面标签的容器，同时也是转动的轴\r\n        this.contains = this.dom.find('ul');\r\n        ///////////////////滚轮显示属性\r\n        //计算标签可显示的角度的绝对值。因为透视关系,所以可见的标签角度小于90度\r\n        this.visibleAngle = 90 - (Math.acos(this.radius / constant_1.default.WHEEL_HEIGHT * 2) / Math.PI * 180);\r\n        ////////////////////可选项属性\r\n        //如果items数组里的值是对象,其中显示的key\r\n        this.labelKey = col.labelKey;\r\n        //如果items数组里的值是对象,其中值的key\r\n        this.itemValueKey = col.valueKey;\r\n        ////////////////////注册dom事件\r\n        var that = this;\r\n        //注册拖拽开始事件\r\n        function startDrag(event) {\r\n            //计算offsetTop,为计算触摸事件的offset使用\r\n            var target = event.currentTarget;\r\n            that.offsetTop = 0;\r\n            while (target) {\r\n                that.offsetTop += target.offsetTop;\r\n                var target = target.parentElement;\r\n            }\r\n            var offsetY = event.touches ? event.touches[0].clientY - that.offsetTop : event.clientY - that.offsetTop;\r\n            that.startDrag(offsetY);\r\n        }\r\n        this.dom[0].addEventListener(\"touchstart\", startDrag);\r\n        this.dom[0].addEventListener(\"mousedown\", startDrag);\r\n        //注册拖拽事件\r\n        function drag(event) {\r\n            var offsetY = event.touches ? event.touches[0].clientY - that.offsetTop : event.clientY - that.offsetTop;\r\n            that.drag(offsetY);\r\n        }\r\n        this.dom[0].addEventListener(\"touchmove\", drag);\r\n        this.dom[0].addEventListener(\"mousemove\", drag);\r\n        //注册拖拽结束事件\r\n        function endDrag() {\r\n            that.endDrag();\r\n        }\r\n        this.dom[0].addEventListener(\"touchend\", endDrag);\r\n        this.dom[0].addEventListener(\"mouseup\", endDrag);\r\n        this.dom[0].addEventListener(\"mouseleave\", endDrag);\r\n        //初始化标签\r\n        this.dom.find(\".picker-label\").css(\"transform\", `translateZ(${this.radius / 100}em) scale(0.75)`);\r\n        //设置标签\r\n        this.setSuffix(col.suffix);\r\n        this.setPrefix(col.prefix);\r\n        this.setOptions(col.options, null, true);\r\n    }\r\n    /**\r\n     * 开始拖拽\r\n     * @param {number} offsetY  当前用户手指(鼠标)的y坐标\r\n     */\r\n    startDrag(offsetY) {\r\n        //记录触摸相关信息,为下一步计算用.计算时候,要将坐标系移至中心,并将单位转为em\r\n        this.lastY = (constant_1.default.WHEEL_HEIGHT / 2 - offsetY / this.em()) * -1;\r\n        this.timeStamp = Date.now();\r\n        this.isDraging = true;\r\n        this.offsetTop = this.dom[0].offsetTop;\r\n        this.originalAngle = this.angle;\r\n        this.changeMaxAngle = 0;\r\n        this.lastIndexAngle = this.selectedIndex;\r\n        for (var parent = this.dom[0].parentElement; parent; parent = parent.parentElement) {\r\n            this.offsetTop += parent.offsetTop;\r\n        }\r\n        //终止之前的动画\r\n        animationUtil_1.default.stopAnimation(this.animationId);\r\n    }\r\n    /**\r\n     * 拖拽\r\n     * @param {number} offsetY\t\t\t当前用户手指(鼠标)的y坐标\r\n     */\r\n    drag(offsetY) {\r\n        if (!this.isDraging) {\r\n            return;\r\n        }\r\n        //根据触摸位移(鼠标移动位移)计算转角变化量\r\n        //现将坐标系移植中心,并将单位转为vm\r\n        var y = (constant_1.default.WHEEL_HEIGHT / 2 - offsetY / this.em()) * -1;\r\n        //计算位移,因为z轴有透视,所以位移量不是真正的曲面的位移量,要做一次透视变换\r\n        var changeAngle = (perspectiveConversion(this.lastY, this.radius, constant_1.default.WHEEL_HEIGHT) - perspectiveConversion(y, this.radius, constant_1.default.WHEEL_HEIGHT))\r\n            / Math.PI * 180;\r\n        var angle = changeAngle + this.angle;\r\n        //记录滚轮滚动的最大转角\r\n        this.changeMaxAngle = Math.max(Math.abs(this.originalAngle - angle), this.changeMaxAngle);\r\n        //记录当前角度\r\n        this.setAngle(angle);\r\n        //计算并记录速度\r\n        this.lastY = y;\r\n        if (changeAngle) {\r\n            this.speed = changeAngle / (Date.now() - this.timeStamp);\r\n        }\r\n        else {\r\n            this.speed = 0;\r\n        }\r\n        this.timeStamp = Date.now();\r\n    }\r\n    /**\r\n     * 拖拽结束\r\n     */\r\n    endDrag() {\r\n        if (!this.isDraging) {\r\n            return;\r\n        }\r\n        //速度*4,做均减少运动,计算滚动后的angle。之所以乘4是根据偏移效果经验得到的\r\n        var changeAngle = this.speed * Math.abs(this.speed) * 8 * constant_1.default.WHEEL_TRANSITION_TIME;\r\n        var angle = changeAngle + this.angle;\r\n        //根据角度计算最终的被选值\r\n        var selectedIndex = this.calcSelectedIndexByAngle(angle);\r\n        //开启动画,选中被选中\r\n        this.selectIndex(selectedIndex, true);\r\n        //计算完成,清空速度相关变量,并去除之前的动画效果\r\n        this.isDraging = false;\r\n        this.lastY = 0;\r\n        this.speed = 0;\r\n    }\r\n    /////////////////////////////////设置相关\r\n    /**\r\n     * 生成用户可选的标签\r\n     * @param {any[]} list                  用户可选项数组\r\n     * @param {*} selectedValue             默认值\r\n     * @param {boolean} [isInti=false]      是否是初始化,初始化不执行设置默认值操作\r\n     */\r\n    setOptions(list, selectedValue, isInti = false) {\r\n        var that = this;\r\n        list = list || [];\r\n        if (Array.isArray(list)) {\r\n            //清空容器\r\n            that.contains.html(\"\");\r\n            this.list = list;\r\n        }\r\n        else {\r\n            throw new TypeError(\"list is not a array.\");\r\n        }\r\n        //计算valueHashMap\r\n        this.valueHashMap = {};\r\n        //计算最小转角\r\n        this.maxAngle = constant_1.default.WHEEL_ITEM_ANGLE * (Math.max(0, this.list.length - 1));\r\n        //生成滚轮的标签\r\n        //标签的index\r\n        var i = 0, \r\n        //标签显示值\r\n        label, \r\n        //显示标签的dom的高度,要求根据wheelItemAngle计算,使各个标签dom的边缘刚好挨在一起,确保没有空细\r\n        height = this.radius * Math.PI * constant_1.default.WHEEL_ITEM_ANGLE / 180;\r\n        this.list.forEach(function (item, index) {\r\n            //如果是对象,取labelKey对应值显示。否则直接显示它本身\r\n            if (typeof item === 'object') {\r\n                label = item[that.labelKey];\r\n                that.valueHashMap[item[that.itemValueKey]] = i;\r\n            }\r\n            else {\r\n                label = item;\r\n                that.valueHashMap[item] = i;\r\n            }\r\n            //创建label的显示dom,并计算他在容器中的位置(角度)\r\n            var li = domUtil_1.default(\"<li></li>\");\r\n            li.append(domUtil_1.default('<span class=\"picker-text\"></span>').text(label));\r\n            var angle = constant_1.default.WHEEL_ITEM_ANGLE * -index;\r\n            //为了解决3d放大后，文字模糊的问题，故采用zoom=2的方案，所以li的尺寸方面，统一缩小一半\r\n            li.css(\"transform\", \"rotateX(\" + angle + \"deg) translateZ(\" + that.radius / 100 + \"em) scale(0.75)\")\r\n                .css(\"padding\", `${height / 5.9 / 100}em 0`)\r\n                .css(\"height\", height / 100 + \"em\")\r\n                .css(\"line-height\", height / 100 + \"em\");\r\n            //将标签的角度保存到其dom中\r\n            li.data(\"angle\", angle);\r\n            //将标签的index保存到其dom中\r\n            li.data(\"index\", i);\r\n            //将标签的dom放到contains上,contains的事件全部委托于容器,即标签不监听事件\r\n            that.contains.append(li);\r\n            //增加点击选择功能\r\n            var clickHandle = function (event) {\r\n                if (that.changeMaxAngle < 1) {\r\n                    //计算完成,清空速度相关变量,并去除之前的动画效果\r\n                    that.isDraging = false;\r\n                    that.lastY = 0;\r\n                    that.speed = 0;\r\n                    that.selectIndex(index, true);\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                }\r\n            };\r\n            li[0].addEventListener('mouseup', clickHandle);\r\n            li[0].addEventListener('touchend', clickHandle);\r\n            i++;\r\n        });\r\n        //刷新标签\r\n        this.flushLabel();\r\n        if (isInti) {\r\n            if (list.length > 0) {\r\n                this.selectedIndex = 0;\r\n                if (typeof list[0] === 'object') {\r\n                    this.selectedValue = this.list[0][this.itemValueKey];\r\n                }\r\n                else {\r\n                    this.selectedValue = this.list[0];\r\n                }\r\n            }\r\n            else {\r\n                this.selectedIndex = -1;\r\n                this.selectedValue = undefined;\r\n            }\r\n            return;\r\n        }\r\n        //设置被选值。如果用户给定被选值,使用给定被选值。如果没有且之前有被选值,并仍在新options里面,保存之前的值。都没有返回0\r\n        if (list.length > 0) {\r\n            if (selectedValue != null && this.valueHashMap[selectedValue] != null) {\r\n                this.selectOption(selectedValue);\r\n            }\r\n            else if (this.valueHashMap[this.selectedValue] != null) {\r\n                this.selectOption(this.selectedValue);\r\n            }\r\n            else {\r\n                this.selectIndex(0);\r\n            }\r\n        }\r\n        else {\r\n            this.selectedIndex = -1;\r\n            this.selectedValue = undefined;\r\n        }\r\n    }\r\n    /**\r\n    * 获得用户可选的标签\r\n    */\r\n    getOptions() {\r\n        return this.list;\r\n    }\r\n    /**\r\n    * 给定指定标签的值,选择指定标签\r\n    */\r\n    selectOption(value, showAnimation = false) {\r\n        //如果valueHashMap里面没有value,表示没有这个标签,否则自动选中这个标签\r\n        if (this.valueHashMap[value] != null) {\r\n            var index = this.valueHashMap[value];\r\n            this.selectIndex(index, showAnimation);\r\n        }\r\n    }\r\n    /**\r\n    * 给定指定备选标签的index,自动设定标签的各个位置\r\n    * @param index\t\t\t\t\t要选择的index\r\n    * @param showAnimation\t\t\t是否显示动画,如果显示动画,会用100帧来显示动画\r\n    */\r\n    selectIndex(index, showAnimation = false) {\r\n        var angle = this.calcAngleBySelectedIndex(index);\r\n        animationUtil_1.default.stopAnimation(this.animationId);\r\n        if (showAnimation) {\r\n            //用50帧渲染动画,并使用easeOut,使其有匀减速效果\r\n            //当前帧数\r\n            var start = 0, \r\n            //总帧数\r\n            during = 50, that = this;\r\n            //动画渲染函数\r\n            var _run = function () {\r\n                start++;\r\n                var _angle = animationUtil_1.default.easeOut(start, that.angle, angle - that.angle, during);\r\n                if (Math.abs(_angle - angle) < 1) {\r\n                    _angle = angle;\r\n                }\r\n                that.setAngle(_angle);\r\n                if (_angle != angle) {\r\n                    that.animationId = animationUtil_1.default.startAnimation(_run);\r\n                }\r\n                else {\r\n                    //记录下原有的index,确定选择是否发生了改变\r\n                    var oldSelectedIndex = that.selectedIndex;\r\n                    that.selectedIndex = index;\r\n                    that.selectedValue = that.list[index];\r\n                    if (typeof that.selectedValue == 'object') {\r\n                        that.selectedValue = that.selectedValue[that.itemValueKey];\r\n                    }\r\n                    if (oldSelectedIndex != that.selectedIndex)\r\n                        that.toggleSelected(that.selectedIndex, that.selectedValue);\r\n                }\r\n            };\r\n            //启动动画\r\n            that.animationId = animationUtil_1.default.startAnimation(_run);\r\n        }\r\n        else {\r\n            //记录下原有的index,确定选择是否发生了改变\r\n            var oldSelectedIndex = this.selectedIndex;\r\n            //如果不显示动画,直接赋值\r\n            this.setAngle(angle);\r\n            this.selectedIndex = index;\r\n            this.selectedValue = this.list[index];\r\n            if (typeof this.selectedValue == 'object') {\r\n                this.selectedValue = this.selectedValue[this.itemValueKey];\r\n            }\r\n            if (oldSelectedIndex != this.selectedIndex)\r\n                this.toggleSelected(this.selectedIndex, this.selectedValue);\r\n        }\r\n    }\r\n    /**\r\n    * 给定指定角度,自动设定标签的各个位置\r\n    * @param {number} angle\t\t要转到的角度\r\n    * @returns {number}\t\t\t修正后的角度,即最终的实际角度\r\n    */\r\n    setAngle(angle) {\r\n        //修正转角,要求转角不能大于maxAngle,不能小于minAngle\r\n        angle = this.rangeAngle(angle);\r\n        // 如果角度变化经过刻度,则放声\r\n        if (this.option.hasVoice && this.picker.visible) {\r\n            var lastIndexAngle = this.lastIndexAngle;\r\n            var index = this.calcSelectedIndexByAngle(angle);\r\n            if (lastIndexAngle != index) {\r\n                if (this.option.hasVoice) {\r\n                    tick.play();\r\n                }\r\n            }\r\n            this.lastIndexAngle = index;\r\n        }\r\n        this.contains.css(\"transform\", \"rotateX(\" + angle + \"deg)\");\r\n        this.angle = angle;\r\n        this.flushLabel();\r\n        return angle;\r\n    }\r\n    /**\r\n    * 通过角度计算被选项的id\r\n    * @param angle {number}\t\t要计算的角度\r\n    * @returns {number}\t\t    被选项id\r\n    */\r\n    calcSelectedIndexByAngle(angle) {\r\n        angle = this.rangeAngle(angle);\r\n        return Math.round(Math.abs(angle / constant_1.default.WHEEL_ITEM_ANGLE));\r\n    }\r\n    /**\r\n    * 通过角度计算被选项的id\r\n    * @param angle {number}\t\t要计算的角度\r\n    * @returns {number}\t\t    被选项id\r\n    */\r\n    calcAngleBySelectedIndex(index) {\r\n        return index * constant_1.default.WHEEL_ITEM_ANGLE;\r\n    }\r\n    /**\r\n    * 限制转角超过极限值\r\n    * @param angle {number}\t\t要计算的角度\r\n    * @returns {number}\t\t    被选项id\r\n    */\r\n    rangeAngle(angle) {\r\n        //修正转角,要求转角不能大于maxAngle,不能小于minAngle\r\n        angle = Math.max(this.minAngle, angle);\r\n        angle = Math.min(this.maxAngle, angle);\r\n        return angle;\r\n    }\r\n    /**\r\n    * 刷新各个标签的状态,确定应该显示哪些标签\r\n    */\r\n    flushLabel() {\r\n        var that = this;\r\n        this.dom.find(\"li\").each(function (index, li) {\r\n            li = domUtil_1.default(li);\r\n            var angle = li.data(\"angle\") + that.angle;\r\n            if (angle > that.visibleAngle || angle < (-that.visibleAngle)) {\r\n                if (li.css(\"display\") != \"none\") {\r\n                    li.css(\"display\", \"none\");\r\n                }\r\n            }\r\n            else {\r\n                if (li.css(\"display\") != \"block\") {\r\n                    li.css(\"display\", \"block\");\r\n                }\r\n            }\r\n        });\r\n    }\r\n    /**\r\n    * 获取被选值\r\n    */\r\n    getValue() {\r\n        return this.selectedValue;\r\n    }\r\n    /////////////////////////////设置前缀后缀\r\n    /**\r\n    * 设置后缀\r\n    * @param text\t\t\t后缀显示的文本\r\n    */\r\n    setSuffix(text) {\r\n        this.dom.find('.picker-label .picker-text').eq(1).text(text);\r\n    }\r\n    /**\r\n    * 设置前缀\r\n    * @param text\t\t\t前缀显示的文本\r\n    */\r\n    setPrefix(text) {\r\n        this.dom.find('.picker-label .picker-text').eq(0).text(text);\r\n    }\r\n    /////////////////////////////wheel事件相关\r\n    /**\r\n    * 触发回调函数的接口\r\n    * @param index\t\t\t当前被选值的索引\r\n    * @param value\t\t\t当前被选值的值\r\n    */\r\n    toggleSelected(index, value) {\r\n        this.onSelectItemCallbackList.forEach(fn => {\r\n            fn.call(this, index, value);\r\n        });\r\n    }\r\n    /**\r\n     * 注册SelectItem的回调事件\r\n     * @param {{(index:number, value:any):void}} fn\r\n     */\r\n    addSelectItemListener(fn) {\r\n        this.onSelectItemCallbackList.push(fn);\r\n    }\r\n    /**\r\n     * 移除注册的SelectItem回调事件\r\n     * @param {{(index:number, value:any):void}} fn\r\n     */\r\n    removeSelectItemListener(fn) {\r\n        this.onSelectItemCallbackList = this.onSelectItemCallbackList.filter(_fn => _fn !== fn);\r\n    }\r\n    /**\r\n     * 销毁\r\n     */\r\n    destroy() {\r\n        this.onSelectItemCallbackList = null;\r\n    }\r\n    ////////////////////////////DOM相关\r\n    getDOM() {\r\n        return this.dom;\r\n    }\r\n}\r\nexports.Wheel3D = Wheel3D;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/wheel/wheel3D.ts","(function (global, factory) {\r\n\t\"use strict\"\r\n\r\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\r\n\t\tmodule.exports = factory;\r\n\t} else {\r\n\t\tglobal.$ = factory(global.document);\r\n\t}\r\n})(typeof window !== \"undefined\" ? window : this, function (document) {\r\n\r\n\t//用于插入使用的DocumentFragment\r\n\tvar fragment = document.createDocumentFragment();\r\n\r\n\t//将html解析为my-jquery对象\r\n\tfunction buildHTML(selector) {\r\n\t\tselector = selector.trim();\r\n\t\t//如果是构建字符串，需要判断是否是<>格式，如果不是表示是选择器\r\n\t\tif(selector.startsWith(\"<\")){\r\n\t\t\t//用于使用innerHTML生成dom的div\r\n\t\t\tvar div = document.createElement(\"DIV\");\r\n\t\t\tdiv.innerHTML = selector;\r\n\t\t\treturn $(div.children);\r\n\t\t} else {\r\n\t\t\treturn $([]);\r\n\t\t}\r\n\t}\r\n\r\n\t//将html解析为fragment对象\r\n\tfunction buildFragment(dom) {\r\n\t\tvar dom = $(dom);\r\n\t\tfragment.textContent = \"\";\r\n\t\tdom.each(function (i, item) {\r\n\t\t\tfragment.appendChild(item);\r\n\t\t})\r\n\t\treturn fragment;\r\n\t}\r\n\r\n\t//将各种要插入对象做成一个buildFragment,根据fn插入\r\n\tfunction insertDom(targets, dom, fn) {\r\n\t\t//如果插入到的元素是多个,克隆之后再插入\r\n\t\ttargets.each(function (i, item) {\r\n\t\t\tif(i != targets.length-1){\r\n\t\t\t\tfn(this, buildFragment(dom.clone()));\r\n\t\t\t} else {\r\n\t\t\t\tfn(this, buildFragment(dom));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t//一个模板,用于生成setter和getter重载函数\r\n\tfunction access(myjq, setter, getter, key, value) {\r\n\t\t//是否是setter方法,如果是setter方法,value不能是undefined\r\n\t\treturn value === undefined ? (myjq.length ? getter(myjq[0], key) : undefined) : myjq.each(function (index, item) {\r\n\t\t\treturn setter(item, key, value)\r\n\t\t})\r\n\t}\r\n\r\n    //短横线隔开式命名转驼峰命名\r\n    function toCamelCase(name) {\r\n        return name.replace(/-\\S/g, function (splitChar) {\r\n            return splitChar[1].toUpperCase();\r\n        });\r\n    }\r\n\r\n    //克隆dom\r\n\tfunction domClone(item, hasSystem) {\r\n\t\tvar dom = item.cloneNode(true);\r\n\t\thasSystem && item[dataKey] && (dom[dataKey] = item[dataKey]);\r\n\r\n\t\treturn dom;\r\n\t}\r\n\r\n\t//删除dom时候使用\r\n\tfunction clearData(item) {\r\n\t\tvar arr;\r\n\t\tif(item.nodeType == 1){\r\n\t\t\tdelete item[dataKey];\r\n\t\t\tarr = item.children;\r\n\t\t} else if(item && item.length != null){\r\n\t\t\tarr = item;\r\n\t\t} else {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tfor(var i; i < arr.length; i++){\r\n\t\t\tclearData(arr[i]);\r\n\t\t}\r\n\t}\r\n\r\n\t//防止冲突的id\r\n\tvar $$mjid = (\"\" + Date.now() +  Math.random()).replace('.', '');\r\n\t//dom缓存的key\r\n\tvar dataKey = \"$$mjid\" + $$mjid\r\n\r\n\tvar $ = function(selector){\r\n\t\treturn new $.fn.init(selector);\r\n\t}\r\n\r\n\t$.fn = $.prototype = {\r\n\t\t//唯一id\r\n\t\t$$mjid : $$mjid,\r\n\r\n\t\t//jquery对象原型\r\n\t\tinit : function(selector){\r\n\r\n\t\t\t//如果没有选择器，直接返回\r\n\t\t\tif(!selector){\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof selector == \"string\"){\r\n\t\t\t\t//如果是字符串，表示可能是选择器，或者是构建字符串\r\n\t\t\t\tselector = selector.trim();\r\n\t\t\t\t//如果是构建字符串，需要判断是否是<>格式，如果不是表示是选择器\r\n\t\t\t\tif(selector.startsWith(\"<\")){\r\n\t\t\t\t\treturn $(buildHTML(selector));\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//如果不是，说明是选择器，直接选择\r\n\t\t\t\t\tvar doms = document.querySelectorAll(selector);\r\n\r\n\t\t\t\t\t//递归调用$，从新封装一次\r\n\t\t\t\t\treturn $(doms);\r\n\t\t\t\t}\r\n\t\t\t} else if(typeof selector == \"object\" && !isNaN(selector[\"length\"])){\r\n\t\t\t\t//类似数组就表示是数组。遍历数组或者是$.init对象，如果里面是dom元素封装返回\r\n\t\t\t\tfor(var i = 0,length = 0; i < selector.length; i++){\r\n\t\t\t\t\tvar dom = selector[i];\r\n\t\t\t\t\tif(dom && dom.nodeType == 1){\r\n\t\t\t\t\t\tthis[length] = dom;\r\n\t\t\t\t\t\tlength++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.length = length;\r\n\t\t\t\treturn this;\r\n\t\t\t} else if(selector.nodeType){\r\n\t\t\t\t//如果本身就是一个dom元素，直接封装返回\r\n\t\t\t\tthis.length = 1;\r\n\t\t\t\tthis[0] = selector;\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t//使init变为类数组对象\r\n\t\tlength : 0,\r\n\r\n\t\t//模仿each\r\n\t\teach : function (fn) {\r\n\t\t\tfor(var i =0; i < this.length; i++){\r\n\t\t\t\tif(typeof fn == 'function' && fn.call(this[i], i, this[i]) === false){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\teq: function(i){\r\n\t\t\treturn $(this[i]);\r\n\t\t},\r\n\r\n\t\t//往集合增加一个dom\r\n\t\tadd: function (item) {\r\n\t\t\tif(item && item.nodeType == 1){\r\n\t\t\t\tthis[this.length++] = item;\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t//在某个节点下面找div\r\n\t\tfind: function(selector){\r\n\t\t\treturn access(this,null,function (dom, selector) {\r\n\t\t\t\treturn $(dom.querySelectorAll(selector));\r\n\t\t\t},selector)\r\n\t\t},\r\n\r\n\t\t//用于将文档增添于\r\n\t\tappend : function(child){\r\n\t\t\tinsertDom(this, $(child), function ( parent,child) {\r\n\t\t\t\tparent.appendChild(child);\r\n\t\t\t})\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tappendTo: function(parent){\r\n\t\t\t$(parent).append(this);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tprepend: function(child){\r\n\t\t\tinsertDom(this, $(child), function ( parent,child) {\r\n\t\t\t\tparent.childNodes.length ?  parent.insertBefore(child, parent.childNodes[0]) : parent.appendChild(child);\r\n\t\t\t})\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tprependTo: function(parent){\r\n\t\t\t$(parent).prepend(this);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tafter: function(child){\r\n\t\t\tinsertDom(this, $(child), function ( parent,child) {\r\n\t\t\t\tif(parent.parentNode.lastChild == parent){\r\n\t\t\t\t\tparent.parentNode.appendChild(child);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent.parentNode.insertBefore(child, parent.nextSibling);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tinsertAfter: function(parent){\r\n\t\t\t$(parent).after(this);\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tbefore: function(child){\r\n\t\t\tinsertDom(this, $(child), function ( parent,child) {\r\n\t\t\t\tparent.parentNode.insertBefore(child, parent);\r\n\t\t\t})\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\tinsertBefore: function(parent){\r\n\t\t\t$(parent).before(this);\r\n\t\t\treturn $(this[0]);\r\n\t\t},\r\n\t\t\r\n\t\tclone: function () {\r\n\t\t\tvar arr = [];\r\n\t\t\tthis.each(function (i, item) {\r\n\t\t\t\tarr.push(domClone(item, true));\r\n\t\t\t})\r\n\t\t\treturn $(arr);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * 删除dom\r\n\t\t */\r\n\t\tremove: function () {\r\n\t\t\tthis.each(function (i, item) {\r\n\t\t\t\titem.parentElement && item.parentElement.removeChild(item)\r\n\t\t\t})\r\n\t\t\treturn this;\r\n\t\t},\r\n\t\t\t\t\r\n\t\tdata: function (key, value) {\r\n\t\t\treturn access(this, function (item, key, value) {\r\n\t\t\t\tif(!item[dataKey]){\r\n\t\t\t\t\titem[dataKey] = {};\r\n\t\t\t\t}\r\n\t\t\t\titem[dataKey][key] = value;\r\n\t\t\t}, function (item, key) {\r\n\t\t\t\treturn item[dataKey] && item[dataKey][key];\r\n\t\t\t}, key, value);\r\n\t\t},\r\n\r\n\t\tattr: function (key, value) {\r\n\t\t\treturn access(this, function (item, key, value) {\r\n\t\t\t\titem.setAttribute(key, value)\r\n\t\t\t}, function (item, key) {\r\n\t\t\t\treturn item.getAttribute(key);\r\n\t\t\t}, key, value)\r\n\t\t},\r\n\r\n\t\tremoveAttr: function (key) {\r\n\t\t\treturn this.each(function (i, item) {\r\n\t\t\t\tif(key) {\r\n\t\t\t\t\titem.removeAttr(key);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\r\n\t\taddClass: function (className) {\r\n\t\t\treturn this.each(function (i, item) {\r\n\t\t\t\tif(className) {\r\n\t\t\t\t\titem.classList.add(className)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tremoveClass: function (className) {\r\n\t\t\treturn this.each(function (i, item) {\r\n\t\t\t\tif(className) {\r\n\t\t\t\t\titem.classList.remove(className)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\thasClass: function (className) {\r\n\t\t\treturn this.length ? this[0].classList.contains(className) : false;\r\n\t\t},\r\n\r\n\t\ttoggleClass: function (className) {\r\n\t\t\treturn this.each(function (i, item) {\r\n\t\t\t\tif(className) {\r\n\t\t\t\t\tif(item.classList.contains(className)){\r\n\t\t\t\t\t\titem.classList.remove(className);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.classList.add(className);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tprop: function (key, value) {\r\n\t\t\treturn access(this, function (item, key, value) {\r\n\t\t\t\titem[key] = value;\r\n\t\t\t}, function (item, key) {\r\n\t\t\t\treturn item[key];\r\n\t\t\t}, key, value)\r\n\t\t},\r\n\r\n\r\n\t\thtml: function(value) {\r\n\t\t\treturn access(this, function (item, key, value) {\r\n\t\t\t\tclearData(item.children || {length : 0});\r\n\t\t\t\titem.innerHTML = value;\r\n\t\t\t}, function (item, key) {\r\n\t\t\t\treturn item.innerHTML;\r\n\t\t\t}, \"-\", value)\r\n\t\t},\r\n\t\ttext: function(value) {\r\n\t\t\treturn access(this, function (item, key, value) {\r\n\t\t\t\titem.textContent = value;\r\n\t\t\t}, function (item, key) {\r\n\t\t\t\treturn item.textContent;\r\n\t\t\t}, \"-\", value)\r\n\t\t},\r\n\t\tval: function(value) {\r\n\t\t\treturn access(this, function (item, key, value) {\r\n\t\t\t\titem.value = value;\r\n\t\t\t}, function (item, key) {\r\n\t\t\t\treturn item.value;\r\n\t\t\t}, \"-\", value)\r\n\t\t},\r\n\t\thide: function() {\r\n\t\t\treturn this.each(function (i, item) {\r\n\t\t\t\tif(item.style.display){\r\n\t\t\t\t\t$(item).data(\"my-jquery-style-display\",item.style.display);\r\n\t\t\t\t}\r\n\t\t\t\titem.style.display=\"none\";\r\n\t\t\t})\r\n\t\t},\r\n\t\tshow: function() {\r\n\t\t\treturn this.each(function (i, item) {\r\n\t\t\t\titem.style.display= $(item).data(\"my-jquery-style-display\") || \"\";\r\n\t\t\t})\r\n\t\t},\r\n\t\tcss: function (key, value) {\r\n\t\t\treturn access(this, function (item, key, value) {\r\n\t\t\t\titem.style[toCamelCase(key)] = value;\r\n\t\t\t}, function (item, key) {\r\n\t\t\t\treturn item.style[toCamelCase(key)];\r\n\t\t\t}, key, value)\r\n\t\t},\r\n\r\n\t\ton: function(eventName, fn){\r\n            return this.each(function (i, item) {\r\n                if(typeof fn != 'function'){\r\n                \treturn;\r\n                }\r\n\r\n            \t//注册的函数\r\n            \tvar cacheFn = function (event) {\r\n\t\t\t\t\tif(fn.call(this, event) === false){\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t}\r\n                }\r\n                cacheFn.fn = fn;\r\n\r\n                //缓存该函数\r\n                var cacheEvent = $(item).data(\"my-jquery-event-cache\") || {};\r\n                cacheEvent[eventName] = cacheEvent[eventName] || [];\r\n                cacheEvent[eventName].push(cacheFn)\r\n\r\n                this.addEventListener(eventName, cacheFn, false);\r\n                $(this).data(\"my-jquery-event-cache\", cacheEvent)\r\n            })\r\n\t\t},\r\n\t\toff: function(eventName, fn){\r\n            return this.each(function (i, item) {\r\n                var cacheEvent = $(this).data(\"my-jquery-event-cache\");\r\n\r\n                if(!cacheEvent)\r\n                \treturn;\r\n\r\n                var self = this;\r\n                if(cacheEvent[eventName] instanceof Array){\r\n                \tvar tempArr = [];\r\n                    cacheEvent[eventName].forEach(function (cacheFn) {\r\n                        if(typeof fn == 'function'){\r\n                        \tif( fn == cacheFn.fn){\r\n                                self.removeEventListener(eventName, cacheFn, false);\r\n                            } else {\r\n                                tempArr.push(cacheFn)\r\n                            }\r\n                        } else {\r\n                            self.removeEventListener(eventName, cacheFn, false);\r\n\t\t\t\t\t\t}\r\n                    })\r\n\r\n                    cacheEvent[eventName] = tempArr;\r\n                    $(this).data(\"my-jquery-event-cache\", cacheEvent)\r\n                }\r\n            })\r\n\r\n\t\t},\r\n\t\ttoggle: function(eventName){\r\n            return this.each(function (i, item) {\r\n            \tif(typeof this[eventName] == 'function'){\r\n                    this[eventName]();\r\n\t\t\t\t}\r\n            })\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t$.fn.init.prototype = $.fn;\r\n\r\n\treturn $;\r\n})\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/my-jquery/src/my-jquery.js\n// module id = 11\n// module chunks = 0","/**\r\n * Created by njz on 16/11/29.\r\n */\r\n\r\n\r\n// 对动画的封装,支持requestAnimationFrame使用requestAnimationFrame封装。\r\n// 若览器不支持requestAnimationFrame情况下的回退，回退到使用setTmeout的情况。\r\nvar requestAnimationFrame, cancelAnimationFrame;\r\nvar lastTime = 0;\r\nvar vendors = ['ms', 'moz', 'webkit', 'o'];\r\nfor (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n    requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n    cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n}\r\nrequestAnimationFrame = requestAnimationFrame || window.requestAnimationFrame || function (callback, element) {\r\n    var currTime = new Date().getTime();\r\n    var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n    var id = window.setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n    }, timeToCall);\r\n    lastTime = currTime + timeToCall;\r\n    return id;\r\n};\r\ncancelAnimationFrame = cancelAnimationFrame || window.cancelAnimationFrame || window.cancelRequestAnimationFrame || function (id) {\r\n    clearTimeout(id);\r\n};\r\n\r\n\r\nmodule.exports = {\r\n    /**\r\n     * 动画开始函数\r\n     * @param fn\r\n     * @returns {number}        动画id\r\n     */\r\n    startAnimation : function (fn) {\r\n        return requestAnimationFrame(fn);\r\n    },\r\n    /**\r\n     * 动画终止函数\r\n     * @param animationId       动画id\r\n     */\r\n    stopAnimation : function (animationId) {\r\n        cancelAnimationFrame(animationId);\r\n    },\r\n    easeIn: function(t,b,c,d){\r\n        return c*(t/=d)*t*t*t + b;\r\n    },\r\n    /**\r\n     * 淡出效果\r\n     * @param t\r\n     * @param b\r\n     * @param c\r\n     * @param d\r\n     * @returns {*}\r\n     */\r\n    easeOut : function (t, b, c, d) {\r\n        return c * ((t = t/d - 1) * t * t + 1) + b;\r\n    },\r\n    /**\r\n     * 淡入并淡出效果\r\n     * @param t\r\n     * @param b\r\n     * @param c\r\n     * @param d\r\n     * @returns {*}\r\n     */\r\n    easeInOut : function (t, b, c, d) {\r\n        if ((t /= d / 2) < 1) return c / 2 * t * t + b;\r\n        return -c / 2 * ((--t) * (t-2) - 1) + b;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/util/animationUtil.js","module.exports = {\"0\":0,\"1\":0.006180474730027776,\"2\":0.012361758667979887,\"3\":0.01854466178595427,\"4\":0.024729995586343003,\"5\":0.030918573871856408,\"6\":0.03711121352142655,\"7\":0.043308735273995536,\"8\":0.04951196452223301,\"9\":0.05572173211827738,\"10\":0.06193887519365582,\"11\":0.06816423799561012,\"12\":0.07439867274213974,\"13\":0.08064304049816978,\"14\":0.08689821207536214,\"15\":0.0931650689582126,\"16\":0.09944450425921704,\"17\":0.1057374237060475,\"18\":0.11204474666385271,\"19\":0.11836740719599605,\"20\":0.12470635516675682,\"21\":0.13106255738976524,\"22\":0.13743699882620672,\"23\":0.1438306838371266,\"24\":0.1502446374944947,\"25\":0.15667990695605222,\"26\":0.163137562909363,\"27\":0.16961870109094018,\"28\":0.1761244438868085,\"29\":0.18265594202141244,\"30\":0.189214376342388,\"31\":0.1958009597093892,\"32\":0.20241693899591295,\"33\":0.20906359721390222,\"34\":0.21574225577183714,\"35\":0.2224542768780669,\"36\":0.22920106610229693,\"37\":0.23598407510944647,\"38\":0.24280480458155373,\"39\":0.24966480734504126,\"40\":0.2565656917224997,\"41\":0.26350912513022323,\"42\":0.2704968379450743,\"43\":0.27753062766690556,\"44\":0.28461236340577195,\"45\":0.2917439907265723,\"46\":0.298927536887646,\"47\":0.30616511651426775,\"48\":0.3134589377530486,\"49\":0.3208113089590395,\"50\":0.32822464597399087,\"51\":0.3357014800618854,\"52\":0.3432444665767064,\"53\":0.3508563944476478,\"54\":0.35854019657886727,\"55\":0.3662989612747276,\"56\":0.37413594481766604,\"57\":0.38205458534478537,\"58\":0.39005851819157766,\"59\":0.3981515928975172,\"60\":0.4063378920994586,\"61\":0.41462175257587425,\"62\":0.42300778874928274,\"63\":0.4315009190073606,\"64\":0.4401063952672662,\"65\":0.4488298362852176,\"66\":0.45767726530766856,\"67\":0.4666551527757603,\"68\":0.47577046493656705,\"69\":0.4850307193901132,\"70\":0.4944440488195467,\"71\":0.5040192744255141,\"72\":0.5137659909310855,\"73\":0.523694665462527,\"74\":0.5338167531736872,\"75\":0.5441448332086339,\"76\":0.5546927695451231,\"77\":0.5654759025098686,\"78\":0.5765112784180985,\"79\":0.5878179270265199,\"80\":0.5994171995371129,\"81\":0.6113331840998124,\"82\":0.6235932216642447,\"83\":0.6362285534378791,\"84\":0.6492751433974548,\"85\":0.6627747373240171,\"86\":0.6767762470698537,\"87\":0.6913375909489355,\"88\":0.7065281883018284,\"89\":0.7224324166263504,\"90\":0.7391545276252866,\"91\":0.7568258524516188,\"92\":0.7756157498195769,\"93\":0.7957489855645078,\"94\":0.8175348626997212,\"95\":0.8414195586288256,\"96\":0.8680892494981647,\"97\":0.8987014263951989,\"98\":0.935517870959519,\"99\":0.9843911534692572,\"100\":1.1071487177940906}\n\n\n// WEBPACK FOOTER //\n// ./src/wheel/cacheData.js","module.exports = \"data:audio/x-wav;base64,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bP4X/4//vf+d/4n/Wf8V//n+A/8o/zb/PP8Q/+T+zf7R/hT/Kv8m/xr/Cv8C/+r+/P4K/y//jf/D//b/3//U/9P/3v/u/+b/6//K/8j/xf/A/8j/2/+1/0r/v/5s/nD+4P4W/yX/F/85/23/iP+V/4//sv8TAE4AagBuAJUAoABSACUA/f/Q/7r/0v/q/9T/g/8r/7X+ZP4g/hX+X/6q/gX/M/8y/+j+r/7R/gL/RP97/5j/xP/I/6j/mP/E//X/CwAZAPz/vf+0/67/n/9q/zz/HP/4/uT+4f4K/xz/Iv8x/yr/JP9B/2f/j/+b/43/Zv9a/2f/mf+f/6b/c/9T/y3/DP/s/r7+j/5g/mv+iP7A/hr/Zf+V/6r/vP+w/8T/l/9z/3z/iv9p/wr/qv5f/o/+zf76/h3/Q/9j/1//Gf+r/of+fv7X/hr/Vf+I/4n/d/9p/2v/XP99/5X/pf+b/2z/Kf8G/+7+8v7+/hr/Rf94/2T/Hf/U/rL+tP7E/tT+0f70/l7/7f8VADEAQQA+ACIArv8x/9H+gv4p/g7+Tv7I/hj/EP8C/wn/Ev/3/tT+wv7D/vf+G/8N/wr/W//Q////1/+//6f/bv8M/7j+x/4M/yz/Gv/6/t7+zf4C/2T/rP+z/33/Rf8C/+T+u/7Y/gr/P/9e/z3/DP8w/2n/Zv81/x3/Gv8F/+T+2f7t/vz+6f7K/q3+yP7o/gz/Ov9h/2P/K//R/on+mv6s/sj+4P4S/1P/hP+Q/23/Wv8y/xH/0f6G/mr+ev7A/lL/rP/f/7//jv8x/wr/+v4r/07/Sv9P/2L/fv+1/8P/k/9n/0f/Pf9l/3L/cv9a/x//+/4m/0r/Vv8j/xb/Df8o/zn/Sf8u/xr/Lf9F/1X/U/99/8X/8v/1/93/wP+m/4H/Qf8N//v+2v7O/sP+0f4P/zT/P/9M/0b/J/8v/y3/QP9Y/3j/if+E/3z/ZP8i//v+6v4B/xb/I/8q/x//N/9D/yH/Bf8H/w7/Mv9q/4X/d/+S/3D/O/8W/x//Kf9H/33/qf+h/1T/A//6/hT/Iv9I/2T/sP/u/+X/1v+b/1v/Nf80/1j/Zf9c/0P/Q/9h/37/mP+Z/3z/XP9a/1n/YP9n/33/XP8z/+r+vf7H/uP+Mv92/6v/wf+r/6P/bf9E/w//HP9S/0j/E/8H/yX/Qf8Y/wL/Iv8c/+7+pP6u/v3+Sv+d/+z/DQARANH/ef9B/wb/+f7U/qf+mv6u/uL+Af8i/0f/e/8=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/tick/tick.wav\n// module id = 14\n// module chunks = 0","\"use strict\";\r\n/**\r\n * 滚轮类,是显示选择器可选项的滚轮体，3D模式型的，有透视效果\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst domUtil_1 = require(\"../util/domUtil\");\r\nconst animationUtil_1 = require(\"../util/animationUtil\");\r\nconst browserUtil_1 = require(\"../util/browserUtil\");\r\nconst constant_1 = require(\"../constant\");\r\nconst perspectiveConversion = require(\"./perspectiveConversionCache\");\r\nconst tick = require(\"../tick/tick\")();\r\nclass Wheel {\r\n    constructor(picker, col, option, index) {\r\n        ///////////////////滚轮显示属性\r\n        //最大位移\r\n        this.maxDistance = 0;\r\n        //最小位移,设置可选项列表后需重新计算\r\n        this.minDistance = 0;\r\n        //获取0.01em的实际像素值\r\n        this.em = () => Math.min(window.innerWidth, window.innerHeight) / 100;\r\n        //获得控件到body最顶端的距离,计算触摸事件的offsetY时候使用\r\n        this.offsetTop = 0;\r\n        ////////////////////滚动属性\r\n        //滚轮转动前初始的位移,用于计算滚轮是否转动过\r\n        this.originalDistance = 0;\r\n        //一次拖动过程中滚轮被转动的最大位移\r\n        this.lastIndexDistance = 0;\r\n        //当前的刻度,计算发声时候会用到。发声要进过一个刻度线或者达到一个新刻度新才会发声。所以需要记录上一次的刻度线。\r\n        this.changeMaxDistance = 0;\r\n        //当前滚轮位移\r\n        this.distance = 0;\r\n        //当前被选值的index\r\n        this.selectedIndex = -1;\r\n        //记录惯性滑动动画的id\r\n        this.animationId = -1;\r\n        //速度，供触摸离开时候的惯性滑动动画使用\r\n        this.speed = 0;\r\n        //当前时间戳,主要是计算转动速度使用的\r\n        this.timeStamp = 0;\r\n        //记录上一次触摸节点的offsetY,主要是是计算转动速度使用的\r\n        this.lastY = 0;\r\n        //是否开始触摸,主要给鼠标事件使用\r\n        this.isDraging = false;\r\n        //正在播放的刻度音\r\n        this.audio = null;\r\n        ////////////////////可选项属性\r\n        //可选项列表\r\n        this.list = [];\r\n        //根据值生成的hashmap,主要是为了快速获得value对应可选项的index\r\n        this.valueHashMap = {};\r\n        ////////////////////事件\r\n        this.onSelectItemCallbackList = [];\r\n        ///////////////////主要属性\r\n        //picker对象\r\n        this.picker = picker;\r\n        //option对象\r\n        this.option = option;\r\n        //记录当前滚轮是容器中第几个滚轮\r\n        this.index = index;\r\n        //转轮主体\r\n        this.dom = domUtil_1.default(`<div class=\"picker-wheel\">\r\n                <div class=\"picker-label\"><span class=\"picker-text\"></span></div>\r\n                <ul></ul>\r\n                <div class=\"picker-label\"><span class=\"picker-text\"></span></div>\r\n            </div>`).css('height', constant_1.default.WHEEL_HEIGHT / 100 + 'em');\r\n        //转轮上面标签的容器，同时也是转动的轴\r\n        this.contains = this.dom.find('ul');\r\n        ////////////////////可选项属性\r\n        //如果items数组里的值是对象,其中显示的key\r\n        this.labelKey = col.labelKey;\r\n        //如果items数组里的值是对象,其中值的key\r\n        this.itemValueKey = col.valueKey;\r\n        ////////////////////注册dom事件\r\n        var that = this;\r\n        //注册拖拽开始事件\r\n        function startDrag(event) {\r\n            //计算offsetTop,为计算触摸事件的offset使用\r\n            var target = event.currentTarget;\r\n            that.offsetTop = 0;\r\n            while (target) {\r\n                that.offsetTop += target.offsetTop;\r\n                var target = target.parentElement;\r\n            }\r\n            var offsetY = event.touches ? event.touches[0].clientY - that.offsetTop : event.clientY - that.offsetTop;\r\n            that.startDrag(offsetY);\r\n        }\r\n        this.dom[0].addEventListener(\"touchstart\", startDrag);\r\n        this.dom[0].addEventListener(\"mousedown\", startDrag);\r\n        //注册拖拽事件\r\n        function drag(event) {\r\n            var offsetY = event.touches ? event.touches[0].clientY - that.offsetTop : event.clientY - that.offsetTop;\r\n            that.drag(offsetY);\r\n        }\r\n        this.dom[0].addEventListener(\"touchmove\", drag);\r\n        this.dom[0].addEventListener(\"mousemove\", drag);\r\n        //注册拖拽结束事件\r\n        function endDrag() {\r\n            that.endDrag();\r\n        }\r\n        this.dom[0].addEventListener(\"touchend\", endDrag);\r\n        this.dom[0].addEventListener(\"mouseup\", endDrag);\r\n        this.dom[0].addEventListener(\"mouseleave\", endDrag);\r\n        //设置标签\r\n        this.setSuffix(col.suffix);\r\n        this.setPrefix(col.prefix);\r\n        this.setOptions(col.options, null, true);\r\n    }\r\n    /**\r\n     * 开始拖拽\r\n     * @param {number} offsetY  当前用户手指(鼠标)的y坐标\r\n     */\r\n    startDrag(offsetY) {\r\n        //记录触摸相关信息,为下一步计算用.计算时候,要将坐标系移至中心,并将单位转为em\r\n        this.lastY = (constant_1.default.WHEEL_HEIGHT / 2 - offsetY / this.em()) * -1;\r\n        this.timeStamp = Date.now();\r\n        this.isDraging = true;\r\n        this.offsetTop = this.dom[0].offsetTop;\r\n        this.originalDistance = this.distance;\r\n        this.changeMaxDistance = 0;\r\n        this.lastIndexDistance = this.selectedIndex;\r\n        for (var parent = this.dom[0].parentElement; parent; parent = parent.parentElement) {\r\n            this.offsetTop += parent.offsetTop;\r\n        }\r\n        //终止之前的动画\r\n        animationUtil_1.default.stopAnimation(this.animationId);\r\n    }\r\n    /**\r\n     * 拖拽\r\n     * @param {number} offsetY\t\t\t当前用户手指(鼠标)的y坐标\r\n     */\r\n    drag(offsetY) {\r\n        if (!this.isDraging) {\r\n            return;\r\n        }\r\n        //根据触摸位移(鼠标移动位移)计算位移变化量\r\n        //现将坐标系移植中心,并将单位转为vm\r\n        var y = (constant_1.default.WHEEL_HEIGHT / 2 - offsetY / this.em()) * -1;\r\n        //计算位移,因为z轴有透视,所以位移量不是真正的曲面的位移量,要做一次透视变换\r\n        var changeDistance = this.lastY - y;\r\n        var distance = changeDistance + this.distance;\r\n        //记录滚轮滚动的最大位移\r\n        this.changeMaxDistance = Math.max(Math.abs(this.originalDistance - distance), this.changeMaxDistance);\r\n        //记录当前位移\r\n        this.setDistance(distance);\r\n        //计算并记录速度\r\n        this.lastY = y;\r\n        if (changeDistance) {\r\n            this.speed = changeDistance / (Date.now() - this.timeStamp);\r\n        }\r\n        else {\r\n            this.speed = 0;\r\n        }\r\n        this.timeStamp = Date.now();\r\n    }\r\n    /**\r\n     * 拖拽结束\r\n     */\r\n    endDrag() {\r\n        if (!this.isDraging) {\r\n            return;\r\n        }\r\n        //速度*4,做均减少运动,计算滚动后的Distance。之所以乘4是根据偏移效果经验得到的\r\n        var changeDistance = this.speed * Math.abs(this.speed) * 8 * constant_1.default.WHEEL_TRANSITION_TIME;\r\n        var distance = changeDistance + this.distance;\r\n        //根据位移计算最终的被选值\r\n        var selectedIndex = this.calcSelectedIndexByDistance(distance);\r\n        //开启动画,选中被选中\r\n        this.selectIndex(selectedIndex, true);\r\n        //计算完成,清空速度相关变量,并去除之前的动画效果\r\n        this.isDraging = false;\r\n        this.lastY = 0;\r\n        this.speed = 0;\r\n    }\r\n    /////////////////////////////////设置相关\r\n    /**\r\n     * 生成用户可选的标签\r\n     * @param {any[]} list                  用户可选项数组\r\n     * @param {*} selectedValue             默认值\r\n     * @param {boolean} [isInti=false]      是否是初始化,初始化不执行设置默认值操作\r\n     */\r\n    setOptions(list, selectedValue, isInti = false) {\r\n        var that = this;\r\n        list = list || [];\r\n        if (Array.isArray(list)) {\r\n            //清空容器\r\n            that.contains.html(\"\");\r\n            this.list = list;\r\n        }\r\n        else {\r\n            throw new TypeError(\"list is not a array.\");\r\n        }\r\n        //计算valueHashMap\r\n        this.valueHashMap = {};\r\n        //计算最小位移\r\n        this.maxDistance = constant_1.default.WHEEL_ITEM_HIGHT * (Math.max(0, this.list.length - 1));\r\n        //生成滚轮的标签\r\n        //标签的index\r\n        var i = 0, \r\n        //标签显示值\r\n        label;\r\n        this.list.forEach(function (item, index) {\r\n            //如果是对象,取labelKey对应值显示。否则直接显示它本身\r\n            if (typeof item === 'object') {\r\n                label = item[that.labelKey];\r\n                that.valueHashMap[item[that.itemValueKey]] = i;\r\n            }\r\n            else {\r\n                label = item;\r\n                that.valueHashMap[item] = i;\r\n            }\r\n            //创建label的显示dom,并计算他在容器中的位置(位移)\r\n            var li = domUtil_1.default(\"<li></li>\").css('top', `${constant_1.default.WHEEL_ITEM_HIGHT / 100 * i}em`);\r\n            li.append(domUtil_1.default('<span class=\"picker-text\"></span>').text(label));\r\n            var distance = constant_1.default.WHEEL_ITEM_HIGHT * -index;\r\n            //将标签的位移保存到其dom中\r\n            li.data(\"distance\", distance);\r\n            //将标签的index保存到其dom中\r\n            li.data(\"index\", i);\r\n            //将标签的dom放到contains上,contains的事件全部委托于容器,即标签不监听事件\r\n            that.contains.append(li);\r\n            //增加点击选择功能\r\n            var clickHandle = function (event) {\r\n                if (that.changeMaxDistance < 0.1) {\r\n                    //计算完成,清空速度相关变量,并去除之前的动画效果\r\n                    that.isDraging = false;\r\n                    that.lastY = 0;\r\n                    that.speed = 0;\r\n                    that.selectIndex(index, true);\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                }\r\n            };\r\n            li[0].addEventListener('mouseup', clickHandle);\r\n            li[0].addEventListener('touchend', clickHandle);\r\n            i++;\r\n        });\r\n        if (isInti) {\r\n            if (list.length > 0) {\r\n                this.selectedIndex = 0;\r\n                if (typeof list[0] === 'object') {\r\n                    this.selectedValue = this.list[0][this.itemValueKey];\r\n                }\r\n                else {\r\n                    this.selectedValue = this.list[0];\r\n                }\r\n            }\r\n            else {\r\n                this.selectedIndex = -1;\r\n                this.selectedValue = undefined;\r\n            }\r\n            return;\r\n        }\r\n        //设置被选值。如果用户给定被选值,使用给定被选值。如果没有且之前有被选值,并仍在新options里面,保存之前的值。都没有返回0\r\n        if (list.length > 0) {\r\n            if (selectedValue != null && this.valueHashMap[selectedValue] != null) {\r\n                this.selectOption(selectedValue);\r\n            }\r\n            else if (this.valueHashMap[this.selectedValue] != null) {\r\n                this.selectOption(this.selectedValue);\r\n            }\r\n            else {\r\n                this.selectIndex(0);\r\n            }\r\n        }\r\n        else {\r\n            this.selectedIndex = -1;\r\n            this.selectedValue = undefined;\r\n        }\r\n    }\r\n    /**\r\n    * 获得用户可选的标签\r\n    */\r\n    getOptions() {\r\n        return this.list;\r\n    }\r\n    /**\r\n    * 给定指定标签的值,选择指定标签\r\n    */\r\n    selectOption(value, showAnimation = false) {\r\n        //如果valueHashMap里面没有value,表示没有这个标签,否则自动选中这个标签\r\n        if (this.valueHashMap[value] != null) {\r\n            var index = this.valueHashMap[value];\r\n            this.selectIndex(index, showAnimation);\r\n        }\r\n    }\r\n    /**\r\n    * 给定指定备选标签的index,自动设定标签的各个位置\r\n    * @param index\t\t\t\t\t要选择的index\r\n    * @param showAnimation\t\t\t是否显示动画,如果显示动画,会用100帧来显示动画\r\n    */\r\n    selectIndex(index, showAnimation = false) {\r\n        var distance = this.calcDistanceBySelectedIndex(index);\r\n        animationUtil_1.default.stopAnimation(this.animationId);\r\n        if (showAnimation) {\r\n            //用50帧渲染动画,并使用easeOut,使其有匀减速效果\r\n            //当前帧数\r\n            var start = 0, \r\n            //总帧数\r\n            during = 50, that = this;\r\n            //动画渲染函数\r\n            var _run = function () {\r\n                start++;\r\n                var _Distance = animationUtil_1.default.easeOut(start, that.distance, distance - that.distance, during);\r\n                if (Math.abs(_Distance - distance) < 1) {\r\n                    _Distance = distance;\r\n                }\r\n                that.setDistance(_Distance);\r\n                if (_Distance != distance) {\r\n                    that.animationId = animationUtil_1.default.startAnimation(_run);\r\n                }\r\n                else {\r\n                    //记录下原有的index,确定选择是否发生了改变\r\n                    var oldSelectedIndex = that.selectedIndex;\r\n                    that.selectedIndex = index;\r\n                    that.selectedValue = that.list[index];\r\n                    if (typeof that.selectedValue == 'object') {\r\n                        that.selectedValue = that.selectedValue[that.itemValueKey];\r\n                    }\r\n                    if (oldSelectedIndex != that.selectedIndex)\r\n                        that.toggleSelected(that.selectedIndex, that.selectedValue);\r\n                }\r\n            };\r\n            //启动动画\r\n            that.animationId = animationUtil_1.default.startAnimation(_run);\r\n        }\r\n        else {\r\n            //记录下原有的index,确定选择是否发生了改变\r\n            var oldSelectedIndex = this.selectedIndex;\r\n            //如果不显示动画,直接赋值\r\n            this.setDistance(distance);\r\n            this.selectedIndex = index;\r\n            this.selectedValue = this.list[index];\r\n            if (typeof this.selectedValue == 'object') {\r\n                this.selectedValue = this.selectedValue[this.itemValueKey];\r\n            }\r\n            if (oldSelectedIndex != this.selectedIndex)\r\n                this.toggleSelected(this.selectedIndex, this.selectedValue);\r\n        }\r\n    }\r\n    /**\r\n    * 给定指定位移,自动设定标签的各个位置\r\n    * @param {number} distance\t\t要转到的位移\r\n    * @returns {number}\t\t\t修正后的位移,即最终的实际位移\r\n    */\r\n    setDistance(distance) {\r\n        //修正位移,要求位移不能大于maxDistance,不能小于minDistance\r\n        distance = this.rangeDistance(distance);\r\n        // 如果位移变化经过刻度,则放声\r\n        if (this.option.hasVoice && this.picker.visible) {\r\n            var lastIndexDistance = this.lastIndexDistance;\r\n            var index = this.calcSelectedIndexByDistance(distance);\r\n            if (lastIndexDistance != index && !browserUtil_1.default.isIE) {\r\n                if (this.option.hasVoice) {\r\n                    tick.play();\r\n                }\r\n            }\r\n            this.lastIndexDistance = index;\r\n        }\r\n        this.contains.css(\"transform\", \"translateY(\" + (constant_1.default.WHEEL_HEIGHT / 2 - constant_1.default.WHEEL_ITEM_HIGHT / 2 - distance) / 100 + \"em)\");\r\n        this.distance = distance;\r\n        return distance;\r\n    }\r\n    /**\r\n    * 通过位移计算被选项的id\r\n    * @param distance {number}\t\t要计算的位移\r\n    * @returns {number}\t\t    被选项id\r\n    */\r\n    calcSelectedIndexByDistance(distance) {\r\n        distance = this.rangeDistance(distance);\r\n        return Math.round(Math.abs(distance / constant_1.default.WHEEL_ITEM_HIGHT));\r\n    }\r\n    /**\r\n    * 通过位移计算被选项的id\r\n    * @param Distance {number}\t\t要计算的位移\r\n    * @returns {number}\t\t    被选项id\r\n    */\r\n    calcDistanceBySelectedIndex(index) {\r\n        return index * constant_1.default.WHEEL_ITEM_HIGHT;\r\n    }\r\n    /**\r\n    * 限制位移超过极限值\r\n    * @param distance {number}\t\t要计算的位移\r\n    * @returns {number}\t\t    被选项id\r\n    */\r\n    rangeDistance(distance) {\r\n        //修正位移,要求位移不能大于maxDistance,不能小于minDistance\r\n        distance = Math.max(this.minDistance, distance);\r\n        distance = Math.min(this.maxDistance, distance);\r\n        return distance;\r\n    }\r\n    /**\r\n    * 获取被选值\r\n    */\r\n    getValue() {\r\n        return this.selectedValue;\r\n    }\r\n    /////////////////////////////设置前缀后缀\r\n    /**\r\n    * 设置后缀\r\n    * @param text\t\t\t后缀显示的文本\r\n    */\r\n    setSuffix(text) {\r\n        this.dom.find('.picker-label .picker-text').eq(1).text(text);\r\n    }\r\n    /**\r\n    * 设置前缀\r\n    * @param text\t\t\t前缀显示的文本\r\n    */\r\n    setPrefix(text) {\r\n        this.dom.find('.picker-label .picker-text').eq(0).text(text);\r\n    }\r\n    /////////////////////////////wheel事件相关\r\n    /**\r\n    * 触发回调函数的接口\r\n    * @param index\t\t\t当前被选值的索引\r\n    * @param value\t\t\t当前被选值的值\r\n    */\r\n    toggleSelected(index, value) {\r\n        this.onSelectItemCallbackList.forEach(fn => {\r\n            fn.call(this, index, value);\r\n        });\r\n    }\r\n    /**\r\n     * 注册SelectItem的回调事件\r\n     * @param {{(index:number, value:any):void}} fn\r\n     */\r\n    addSelectItemListener(fn) {\r\n        this.onSelectItemCallbackList.push(fn);\r\n    }\r\n    /**\r\n     * 移除注册的SelectItem回调事件\r\n     * @param {{(index:number, value:any):void}} fn\r\n     */\r\n    removeSelectItemListener(fn) {\r\n        this.onSelectItemCallbackList = this.onSelectItemCallbackList.filter(_fn => _fn !== fn);\r\n    }\r\n    /**\r\n     * 销毁\r\n     */\r\n    destroy() {\r\n        this.onSelectItemCallbackList = null;\r\n    }\r\n    ////////////////////////////DOM相关\r\n    getDOM() {\r\n        return this.dom;\r\n    }\r\n}\r\nexports.Wheel = Wheel;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/wheel/wheel.ts","import $ from './util/domUtil';\r\nimport constant from './constant';\r\nimport browserUtil from './util/browserUtil'\r\n\r\n//构建主框架\r\nfunction Frame(picker, option) {\r\n\r\n\t//picker对象\r\n\tthis.picker = picker;\r\n\t//option\r\n\tthis.option = option;\r\n\r\n\t//构建cover\r\n\tthis.cover = $(\"<div class='my-picker-cover' style='z-index: \" + option.zIndex + \"'>\").hide();\r\n\r\n\tthis.frame =\r\n\t\t$('<div class=\"picker picker-frame\" style=\"z-index: ' + (option.zIndex + 1) + '\">'\r\n\t\t\t+ '<header class=\"picker-head\">'\r\n\t\t\t\t+ '<a class=\"picker-btn-cancel\"><span class=\"picker-header-text\"></span></a>'\r\n\t\t\t\t+ '<h4 class=\"picker-title\"><span class=\"picker-header-text\"></span></h4>'\r\n\t\t\t\t+ '<span class=\"picker-selected\">已选0</span>'\r\n\t\t\t\t+ '<a class=\"picker-btn-ok\"><span class=\"picker-header-text\"></span></a>'\r\n\t\t\t+ '</header>'\r\n\t\t\t+ '<div class=\"picker-body\"></div>'\r\n\t\t+ '</div>').css('height', (constant.WHEEL_HEIGHT + 15) / 100 + \"em\").hide();\r\n\tthis.frame.find(\".picker-body\")\r\n\t[0].addEventListener('touchstart', function (event) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\t});\r\n\r\n\t//如果是3d透视模式，增加3d透视的样式\r\n\tif( (!browserUtil.isIE && this._option.isPerspective)){\r\n\t\tthis.frame.addClass('s-3d').find(\".picker-body\")\r\n\t\t\t.css(\"perspective\",(constant.WHEEL_HEIGHT) / 100 + \"em\")\r\n\t\t\t.css(\"webkitPerspective\",(constant.WHEEL_HEIGHT) / 100 + \"em\")\r\n\t\t\t.css(\"mozPerspective\",(constant.WHEEL_HEIGHT) / 100 + \"em\")\r\n\t\t\t.css(\"msPerspective\",(constant.WHEEL_HEIGHT) / 100 + \"em\")\r\n\t}\r\n\r\n\t//设置标题按钮名\r\n\tthis.frame.find(\".picker-title .picker-header-text\").text(option.title);\r\n\tthis.frame.find(\".picker-btn-cancel .picker-header-text\").text( option.buttons[1] || '取消');\r\n\tthis.frame.find(\".picker-btn-ok .picker-header-text\").text( option.buttons[0] || '确定');\r\n\r\n\t$(\"body\").append(this.frame).append(this.cover);\r\n\r\n\t//绑定主架的事件\r\n\tvar that = this;\r\n\tthis.frame.find(\".picker-btn-cancel\").on(\"click\", function (event) {\r\n\t\tif(typeof that.option.onCancelClick == 'function'){\r\n\t\t\tthat.option.onCancelClick.call(that.picker);\r\n\t\t}\r\n\t\tthat.picker.hide();\r\n\t});\r\n\tthis.frame.find(\".picker-btn-ok\").on(\"click\", function (event) {\r\n\t\tif(typeof that.option.onOkClick == 'function'){\r\n\t\t\tvar result = that.option.onOkClick.call(that.picker, picker.getValue());\r\n\t\t\tif(result === false){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tthat.picker.hide();\r\n\t});\r\n\r\n\tthis._resizeHandle = function(){\r\n\t\tthis.frame.css('fontSize', Math.min(document.documentElement.clientWidth, document.documentElement.clientHeight) + 'px')\r\n\t}.bind(this)\r\n\r\n\twindow.addEventListener('resize', this._resizeHandle)\r\n\tthis._resizeHandle()\r\n}\r\n\r\n\r\nFrame.prototype = {\r\n\t//显示cover\r\n\tshowCover : function(){\r\n\t\tthis.cover.show();\r\n\t\tthis.cover.addClass('s-open');\r\n\t},\r\n\t//隐藏cover\r\n\thideCover : function(){\r\n\t\tthis.cover.removeClass('s-open');\r\n\t\tvar that = this;\r\n\t\tsetTimeout(function () {\r\n\t\t\tthat.cover.hide();\r\n\t\t},500);\r\n\t},\r\n\t//显示frame\r\n\tshowFrame : function(){\r\n\t\tthis.frame.show();\r\n\t\tthis.frame.addClass('s-open');\r\n\t},\r\n\t//显示frame\r\n\thideFrame : function(){\r\n\t\tthis.frame.removeClass('s-open');\r\n\t\tvar that = this;\r\n\t\tsetTimeout(function () {\r\n\t\t\tthat.frame.hide();\r\n\t\t},500);\r\n\t},\r\n\tdom: function(){\r\n\t\treturn this.frame;\r\n\t},\r\n\tbody: function(){\r\n\t\treturn this.frame.find('.picker-body');\r\n\t},\r\n\t//关闭\r\n\tclose:function () {\r\n\t\tthis.remove();\r\n\t\twindow.removeEventListener('resize', this._resizeHandle)\r\n\t},\r\n\t//移除\r\n\tremove:function () {\r\n\t\tthis.frame.remove();\r\n\t}\r\n}\r\n\r\nmodule.exports = Frame;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/frame.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/style/style.scss\n// module id = 17\n// module chunks = 0"],"sourceRoot":""}